mutation BuyerJobAccept($jobId: ID!) {
  acceptJob(jobId: $jobId) {
    id
    status
    buyerCanDownload
  }
}

query BuyerOrderView($orderId: ID!, $vendorId: ID!) {
  order(orderId: $orderId) {
    id
    revenue
    quote
    status
    unpaidBalance
    buyer {
      id
      sources {
        id
        name
        brand
        last4
        primary
      }
      lastOrder(orderId: $orderId, source: BUYER) {
        requested {
          start
          end
        }
      }
    }
    metadata(buyer: true) {
      propertyId
      title
      display
    }
    address {
      addressFirst
      addressSecond
      latitude
      longitude
    }
    orderInvoiceLines {
      id
      amount
      name
      grouping
      subLines {
        name
        amount
      }
    }
    requested {
      start
      end
    }
    invoice {
      id
      payments {
        id
        created
        authorized
        captured
        source {
          id
          name
          last4
          brand
        }
      }
    }
    jobs(buyer: true) {
      id
      status
      buyerCanDownload
      root {
        id
        performable {
          id
          marketing {
            name
          }
        }
      }
      performable {
        id
        __typename
        marketing {
          name
        }
      }
      buyerDeliverables {
        ...DeliverablePreview
      }
      properties(valuable: true, buyer: true) {
        id
        propertyId
        display
        property {
          id
          marketing {
            name
          }
        }
      }
      revenue
    }
  }
  vendor(memberId: $vendorId) {
    id
    paymentType
    paymentTest
  }
}

query BuyerOrderRuleContext($orderId: ID!) {
  order(orderId: $orderId) {
    ...OrderRuleContext
  }
}

query BuyerLastOrderRequested($buyerId: ID!, $orderId: ID) {
  buyer(buyerId: $buyerId) {
    id
    lastOrder(orderId: $orderId, source: BUYER) {
      requested {
        start
        end
      }
    }
  }
}
