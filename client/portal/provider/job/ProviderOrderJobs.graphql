fragment ProviderOrderAccountingLine on OrderLine {
  id
  amount
  expense
  editable
  jobId
  fieldId
  actionId
  eventId
  providerId
  assignable
  removable
  description
}

fragment ProviderOrderAccountingJob on Job {
  id
  ...JobBadge
  revenue
  start
  removable
  cancelable
  completable
  end
  parentId
  locked
  status
  name
  onsite
  alert
  statusLabel
  statusDescription
  deliverableCount
  nextStatus(type: INTERNAL)
  nextStatusLabel(type: INTERNAL)
  assignee {
    id
    company
  }
  user {
    id
    name
    dateOfBirth
  }
  properties(valuable: true) {
    id
    display
    property {
      id
      name
    }
  }
  performable {
    id
    internalName
    shortName
  }
}

fragment ProviderOrderAccountingPayments on Order {
  id
  unpaidBalance
  fullyPaid
  payments {
    id
    authorized
    created
    notes
    captured
    source {
      id
      name
    }
  }
}

fragment ProviderOrderAccountingComponent on Order {
  jobs {
    ...VendorOrderAccountingJob
  }
  orderLines {
    ...VendorOrderAccountingLine
  }
  ...VendorOrderAccountingPayments
  revenue
}

query ProviderOrderAccounting($orderId: ID!) {
  order(orderId: $orderId) {
    id
    invoiceable
    chargable
    ...ProviderOrderAccountingComponent
  }
}

query ProviderJobAccounting($orderId: ID!) {
  order(orderId: $orderId) {
    id
    orderLines {
      ...ProviderOrderAccountingLine
    }
  }
}
